<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><script src="run_prettify.js?skin=sons-of-obsidian"></script></head><body bgcolor="#000000">
<pre class="prettyprint linenums">
///
/// FILE : src/com/njlabs/guide/android/dev/Storage.java
///
///
/// ALWAYS CHECK FOR EXTERNAL MEMORY AVAILABILITY
///
boolean mExternalStorageAvailable = false;
boolean mExternalStorageWriteable = false;
String state = Environment.getExternalStorageState();
if (Environment.MEDIA_MOUNTED.equals(state)) {
    // We can read and write the media
    mExternalStorageAvailable = mExternalStorageWriteable = true;
} else if (Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
    // We can only read the media
    mExternalStorageAvailable = true;
    mExternalStorageWriteable = false;
} else {
    // Something else is wrong. It may be one of many other states, but all we need
    //  to know is we can neither read nor write
    mExternalStorageAvailable = mExternalStorageWriteable = false;
}
///
/// STORING TO EXTERNAL MEMORY
///
File path = Environment.getExternalStorageDirectory(); // GET THE EXTERNAL MEMORY PATH
FileOutputStream fs = new FileOutputStream(new File(path, "data_file.txt"));  // OPEN A FILE STREAM WITH EXTERNAL PATH
fs.write("Data to write".getBytes()); // WRITE THE DATA TO FILE STREAM
fs.flush(); // FLUSH THE FILE STREAM
fs.close(); // CLOSE FILE STREAM
///
/// READING FROM EXTERNAL MEMORY
///
String RetrievedString;
int ch;
StringBuilder str = new StringBuilder();
File path = Environment.getExternalStorageDirectory(); // GET THE EXTERNAL MEMORY PATH 
FileInputStream fs = new FileInputStream(new File(path, "data_file.txt"));  // OPEN A FILE STREAM WITH EXTERNAL PATH
while ((ch = fs.read()) != -1)  // READ CHARACTER BY CHARACTER FROM THE FILE TREAM
{
	str.append((char) ch); 
}
fs.close(); // CLOSE FILE STREAM
RetrievedString = str.toString();
///
/// USEFUL FILE PATHS FOR EXTERNAL STORAGE
///
Environment.DIRECTORY_ALARMS
Environment.DIRECTORY_DCIM
Environment.DIRECTORY_DOWNLOADS
Environment.DIRECTORY_MOVIES
Environment.DIRECTORY_MUSIC
Environment.DIRECTORY_NOTIFICATIONS
Environment.DIRECTORY_PICTURES
Environment.DIRECTORY_PODCASTS
Environment.DIRECTORY_RINGTONES
///
/// USAGE EXAMPLE
///
File path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM);
</pre></body></html>
